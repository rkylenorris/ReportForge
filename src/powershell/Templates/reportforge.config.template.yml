# MyModule configuration template
# Versioned schema â€“ do not remove
version: 1

run:
  name: "example-run"
  environment: "dev"          # dev | test | prod
  output_root: "./output"
  overwrite: false
  # env_precedence: "file_over_process"  # optional, default behavior

source:
  type: "sqlserver"

  # These may be literal values or env-interpolated (${VAR_NAME})
  server: "${MYMODULE_SQL_SERVER}"
  database: "${MYMODULE_SQL_DATABASE}"

  auth:
    # integrated = Windows / domain auth
    # env         = SQL login via env vars / .env file
    mode: "env"

    # Used only when mode = env
    username_env: "MYMODULE_SQL_USERNAME"
    password_env: "MYMODULE_SQL_PASSWORD"

datasets:
  - name: "ExampleDataset"
    query_file: "./sql/example.sql"
    parameters:
      StartDate: "2026-01-01"
      EndDate: "2026-01-31"

excel:
  template_path: "./templates/Example.xlsx"
  output_name: "Example.xlsx"

  mappings:
    - dataset: "ExampleDataset"
      sheet: "Sheet1"
      start_cell: "A2"
      include_headers: true
      clear_existing_range: true

parquet:
  enabled: false
  output_folder: "parquet"
  datasets: ["ExampleDataset"]

logging:
  level: "info"               # trace | debug | info | warn | error
  ndjson: true
